# Rocket框架概述

hdm258i@gmail.com 2013-03-19 基础, webapp框架

## 1. Rocket框架是什么

Rocket是一个webapp framework，它是开发`Mobile HTML5 SPA`程序（称之为`移动webapp`，后续`简称webapp`，
如果对移动webapp概念不熟悉的同学，可以先阅读这篇文章<a href="/docs/hudamin/rocket/introduce/mobile_webapp.md.html">移动webapp介绍</a>)）的`通用开发框架`，
集成webapp产品开发涉及的`规范、框架类库、最佳实践`，提供一套完整的`代码框架`，有丰富的`配置接口`，同时为扩展提供了足够的空间。
使用框架开发，可以大大`缩短webapp开发周期`，并且保证开发的规范性，使后期升级和维护更容易。

<img title="Rocket框架概览" src="./img/framework-overview.png">

## 2. Rocket框架的设计目标

* `并行开发`。满足`大型`的`复杂`WebApp之`并行开发`需求，使SPA程序`多人合作`开发成为可能
* `化繁为简`。`分而治之`的控制模型，提供一种`MVC分解模型`，将复杂应用逻辑分解成`树状控制结构`，每个控制节点粒度（代码规模）适中。
* `有章可循`。支持一系列的`规范和流程`，使开发更加顺手，利于功能模块的复用和后期维护
* `快速开发`。基于框架进行webapp开发，节省重复造轮子的时间，丰富的`脚手架`帮助工程师迅速搭建webapp产品

### 2.1 并行开发

webapp从发布代码结构来看，与web站点是一样的，只不过其所引用的代码体积比web站点要大很多。
一个复杂的webapp可能包含多个功能独立的页面，如何让多人来承担这些页面的`开发、代码调试、提交`，达到并行，
并且能够在`发布`层面做到`无缝`整合，是摆在webapp开发面前的一道难题。

webapp框架设计目标中，`满足多人开发`是一个重要的目标。框架设计按页面为单位，确保`页面之间不存在代码上的耦合`，
代码在开发的物理目录上是完全独立的，可以独立提交。对于关联不可避免的地方，比如公共配置、代码整合等地方，
使用一些方法使其尽可能弱化，达到尽可能的薄，减少冲突。

### 2.2 化繁为简

webapp充分利用HTML5的特性，力求在移动浏览器上实现Native App的体验，相比`移动站点`，webapp在`代码规模`和`复杂性`上大大增加，
表现在以下几个（包括但不限于）方面：

* `页面管理`，在一个HTML document上模拟多个功能相对独立的页面，提供这些模拟页面的`展示、隐藏、切换`
    等各类效果，接近与native app的体验，同时每个页面提供不亚于web站点页面的功能
* webapp特定的hash`路由功能`，实现hash到特定控制逻辑的派发以及hash穿透
* 更大的DOM树，需要引入`垃圾回收`机制，保证运行性能
* 类native app`特效`
* `页面导航`管理，通常需要按`层级`来管理页面导航
* `跨页面组件`，如何达到与页面进行松耦合的交互

webapp较普通web站点`逻辑更加复杂`，代码量更加巨大，普通webapp在代码规模上一般都`超1w`，甚至更多，
比如百度新闻webapp的`js + css`代码行数为`5W`。
如何更好地用代码完成相应的功能逻辑，直接影响webapp的开发效率和质量。

WebApp的广泛运用，前端编程规模越来越大，复杂度不亚于后端系统，将`MVC编程理念`引入前端是前端开发的必然趋势。

在APP层面，使用传统web应用的路由分发机制，在页面层面，引入一种MVC的分解模型，形成一棵`控制器树`，
使多个规模适中的MVC模块协作完成一个复杂的功能逻辑。

### 2.3 有章可循

众所周知，`规范`之于团队开发的重要性。webapp框架定义了一系列的`规范和流程，目录规范、命名规范、MVC使用规范、事件流规范、页面开发流程`等。

### 2.4 快速开发

得益于webapp的一系列规范和流程，以及丰富demo，加上`FIS`作为开发平台，
使得webapp在开发、调试、部署等环节都得到了加速。我们的目标是30分钟迅速搭建webapp原型。

## 3. 开始webapp之旅

后续的章节将深入介绍Rocket框架的各个方面细节。

