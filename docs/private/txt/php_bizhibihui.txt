PHP之必知必会



修订内容    修订人  修订时间
初稿    胡大民  2010/12/18
添加empty, isset, is_null等函数针对某些特定值的例子 胡大民  2011/2/24
添加iconv的转换特性 胡大民  2011/3/15
 
目录
PHP之必知必会   1
目录    2
1 前言  1
2 几个函数  1
2.1 PHP命令行   1
2.2 使empty函数返回值为true的值 1
2.3 使isset函数返回值为false的值    2

 

1 前言

2 几个函数
2.1 PHP命令行
2.1.1 php -r
1.  命令需要用引号或双引号包围；
2.  变量前的$需要转义；
./php -r "\$a='';if(empty(\$a)) echo 1;"

2.2 使empty函数返回值为true的值
empty函数不能传入const类型的参数。以下值会使empty函数返回true

1.  空字符串
2.  数字0
3.  字符串”0”
4.  false
5.  空数组
6.  null
7.  声明而未初始化的变量

my_empty(EMPTY) = bool(true)
my_empty(NUMBER ZERO) = bool(true)
my_empty(STRING ZERO) = bool(true)
my_empty(NULL) = bool(true)
my_empty(BOOLEAN FALSE) = bool(true)
my_empty(EMPTY ARRAY) = bool(true)
my_is_null(EMPTY) = bool(false)
my_is_null(NUMBER ZERO) = bool(false)
my_is_null(STRING ZERO) = bool(false)
my_is_null(NULL) = bool(true)
my_is_null(BOOLEAN FALSE) = bool(false)
my_is_null(EMPTY ARRAY) = bool(false)
my_isset(EMPTY) = bool(true)
my_isset(NUMBER ZERO) = bool(true)
my_isset(STRING ZERO) = bool(true)
my_isset(NULL) = bool(false)
my_isset(BOOLEAN FALSE) = bool(true)
my_isset(EMPTY ARRAY) = bool(true)

2.3 使isset函数返回值为false的值
todo
2.4 PHP之iconv
目前试验的是Linux下的PHP。iconv函数有这样的特性：进行编码转换时，如果输入文件在某个位置出现不合法编码，iconv将停止转换，输出文件也在当前位置截断。
同Linux的iconv命令一样。会将已经正确转换的部分输出。
如果使用
$str = iconv('gbk', 'utf8', $str);
出现输出截断，可能是源编码集太小导致，换成以下语句或许可行：
$str = iconv('gb18030', 'utf8', $str);



