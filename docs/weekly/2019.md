# weekly-2019

> Just do it!

> 设计模式、开源项目&工具、资讯


## 190311-190316

* [ 180308 ] `Real-Time AR` Self-Expression with Machine Learning <https://ai.googleblog.com/2019/03/real-time-ar-self-expression-with.html>

    <img src="./img/real-time-ar-190308.gif" style="max-height: 400px">

* [ 190307 ] Real virtuality: connecting real things to virtual reality using web technologies <https://hacks.mozilla.org/2019/03/connecting-real-things-to-virtual-worlds-using-web/> Mozilla工程师在WebXR的一些试验性成果
    * 从IoT( 物联网 )到WoT( 物联Web )
    * 从WoT到WebXR
    * 针对WebVR的Web框架 - `A-Frame`
    * WebVR Demo - 设备识别颜色，反馈在Web界面上
    * WebAR Demo  
* [ 190315 ] A-Frame <https://aframe.io/> A `web framework` for building virtual reality experiences: Make WebVR with HTML and Entity-Component Works on Vive, Rift, Daydream, GearVR, desktop. `Docs`: <https://aframe.io/docs/0.9.0/introduction/>
* JavaScript Performance Pitfalls in V8 <https://ponyfoo.com/articles/javascript-performance-pitfalls-v8> V8`性能陷阱`
    * V8内建编译器：`TurboFan`以及`Ignition bytecode generator`，也就是所谓的`method JITs`，意味着编译单元通常是方法或函数级别
    * `60KiB`: the `kMaxBytecodeSizeForOpt` constant in `runtime-profiler.cc`，字节码超过60KiB后，就不再进行优化
    * `--print-bytecode` option ( node >= 8.0 ):

            $ node --print-bytecode add10.js

    * 通常函数字节码不会超过60KiB，但大函数或自动生成的函数，很容易就超过这个限制，比如：
            function add10000( x ) {
                // 10000个x相加
                return 0 + x + x + ... + x;
            }
        以上函数，字节码大小为`99KiB`，已经超过限制，无法进行优化。
    * Make sure to `split large functions into smaller building blocks`. This is generally good advice for maintainability, but also `helps the JIT to properly optimize everything` that’s relevant to your application
    * 避免`一个字段混合存储不同类型的数据`，特别是不要将一个数字字段初始化为null或undefined，选择初始化为NaN更理想，同时初始化一个double类型字段也用double类型的值




## 190303-190308

* 前端九部 - 入门者手册2019 <https://www.yuque.com/fe9/basic>

> 资讯

* [ 190226 ] npm Enterprise <https://www.npmjs.com/products/enterprise> npm开启企业版，Why we created npm Enterprise <https://blog.npmjs.org/post/183073931165/why-we-created-npm-enterprise>
* [ 190225 ] Taro UI 2.0 发布：新增自定义主题功能，适配更多小程序 <https://aotu.io/notes/2019/02/25/taro-ui-2.0/>
    * 新增日历、索引选择、区域选择、图片选择等`11个`组件
    * 适配`支付宝小程序`、`百度小程序`
    * 新增自定义主题功能
    * 新增主题生成器，以帮助开发者更好地使用自定义主题功能
    * 新增 Issue Helper，以帮助开发者更规范地填写 Issue
* [ 190226 ] Launching `Flutter 1.2` at Mobile World Congress <https://developers.googleblog.com/2019/02/launching-flutter-12-at-mobile-world.html>

> 新鲜货

* [ 190306 ] play.js - The Node.js and React Native IDE for iPhone and iPad <https://playdotjs.com> 用Node和React-Native开发iPhone和iPad应用的IDE，可在App Store下载
* [ 190306 ] `gpu.js` - GPU Accelerated JavaScript <http://gpu.rocks>
        const gpu = new GPU();
        const multiplyMatrix = gpu.createKernel(function(a, b) {
          var sum = 0;
          for (var i = 0; i < 512; i++) {
            sum += a[this.thread.y][i] * b[i][this.thread.x];
          }
          return sum;
        }).setOutput([512, 512]);


> 深度

* [ 190307 ] 前端之未来 <https://www.yuque.com/zenany/up/the_future_frontend>
    * `Digital Twin`(数字孪生)，简单来讲就是在计算机世界给现实世界的物体（飞船/城市）、系统（电力/交通）建立数字化镜像，让数字世界和物理世界更好地交互，数字大屏也可以算这种技术一种应用场景
    * `Immersive technologies`：Augmented Reality(AR)、Virtual Reality(VR)、Mixed Reality(MR) 等
    * `Smart Spaces`：智慧城市、智能汽车、智能商店等 




## 190225-190301

> 新鲜货
* [ 190228 ] `codecrumbs` - <https://github.com/Bogdan-Lyashenko/codecrumbs> 可视化方式帮助你理清代码结构，提供代码文件依赖、代码流程图、代码面包屑等可视化 site - demo: <https://codecrumbs.io> 
        $ yarn global add codecrumbs
        $ codecrumbs -d project-src-dir -e project-src-dir/index.js

> 技术拾遗

* [ 190222 ] 使用document.scrollingElement控制窗体滚动高度 <https://www.zhangxinxu.com/wordpress/2019/02/document-scrollingelement/> 
* [ 190228 ] `tslint` - An extensible linter for the TypeScript language, site: <https://palantir.github.io/tslint/>, github: <https://github.com/palantir/tslint> <iframe src="http://258i.com/gbtn.html?user=palantir&repo=tslint&type=star&count=true" frameborder="0" scrolling="0" width="105px" height="20px"></iframe>

        # Install the global CLI and its peer dependency
        yarn global add tslint typescript
        
        # Navigate to your sources folder
        cd path/to/project
        
        # Generate a basic configuration file
        tslint --init
        
        # Lint TypeScript source globs
        tslint -c tslint.json 'src/**/*.ts'

* [ 190228 ] 杂谈Android线程优先级 <https://mp.weixin.qq.com/s/ofmqH2oXhKJdTzrTiQdziA>


> 深度

* [ 190225 ] Chameleon原理首发：其它跨多端统一框架都是假的？ <https://mp.weixin.qq.com/s/nabaad5UnnNUZovEV8df-Q>
* [ 190227 ] 百度的春晚战事 <https://mp.weixin.qq.com/s/W9Nbq64v9doYPxcCLBsqNQ> 


> 资讯

* [ 190218 ] w3c战略重点之 - 加强fonts ( WOFF 2.0 REC ) & css3 
    * <https://www.w3.org/blog/2019/02/w3c-strategic-highlights-strengthening-the-core-of-the-web-fonts/> font enrichment API:  where a server delivers a font with minimal glyph repertoire and the client can query the full repertoire and request additional subsets on-the-fly. The API takes care of progressively enriching the downloaded font, without requiring cumbersome CSS manipulations or multiple, separate font files
    * <https://www.w3.org/blog/2019/02/w3c-strategic-highlights-strengthening-the-core-of-the-web-css/> 
        * CSS UI Module level 3
        * CSS Color Module level 3
        * CSS Fonts Module level 3
* [ 190226 ] Flutter 1.2 发布，带来全新的 Web 开发工具！ <https://juejin.im/entry/5c76681b6fb9a049ed31893e>
* [ 190219 ] TSLint in 2019 <https://medium.com/palantir/tslint-in-2019-1a144c2317a9> Palantir is the creator and primary maintainer of TSLint, the standard linter for the TypeScript programming language. As the TypeScript community is working toward a unified developer experience across the TypeScript and JavaScript languages, we are committed to support the convergence of TSLint and ESLint; in this blog post we explain the Why and How of our efforts. 
    * TSLint是Palantir开发的开源代码风格检测工具
    * 2019年，将推进TSLint和ESLint的融合




## 190218-190222

* [ 190221 ] `Anime.js` - <https://animejs.com> github: <https://github.com/juliangarnier/anime> Anime.js (/ˈæn.ə.meɪ/) is a lightweight JavaScript animation library with a simple, yet powerful API. It works with CSS properties, SVG, DOM attributes and JavaScript Objects.
* [ 190110 ] 浏览器往返缓存（Back/Forward cache）问题的分析与解决 <https://efe.baidu.com/blog/bfcache-analysis-and-fix/>
* [ 190218 ] 独家！支付宝首次披露其小程序技术架构 <https://mp.weixin.qq.com/s/PX7b_qV6tYKnN3ecoz9Ehw>
    * 使用UC内核
    * 重新设计了现有的JS虚拟机V8，提出了一种优化的隔离模型，在新的隔离模型下，webview 里面的 v8 实例就是一个 Local Runtime，worker 线程里面的 v8 实例也是一个 Local Runtime，在 worker 层和 render 层交互时，setData 对象的会直接创建在 Shared Heap 里面，因此 render 层的 Local Runtime 可以直接读到该对象，并且用于 render 层的渲染，`减少了对象的序列化和网络传输`，极大的提升了`启动性能和渲染性能`
    * 首页离线缓存优化：保存时机和闪屏问题，闪屏问题通过Virtual DOM来解决
    * Virtual DOM优化，使用`WebAssembly`引擎解决虚拟DOM的大量计算带来的性能问题，同时优化了方法转译部分的实现，代码执行效率提升50%
    * 开发者工具，支持mac和windows平台，提供两种服务方案：云函数和云服务
    * 线上巡检
    * 多端inside，提供小程序运行时SDK
    * 小程序互通：平台互通、能力互通、用户互通
* [ 181101 ] TED：如何提升你的运气，斯坦福教授教你三招 <https://v.qq.com/x/cover/8dfe6c0hd9wwbuk/k0777fgbqau.html>
* [ 130530 ] 理解RESTful架构 <https://mccxj.github.io/blog/20130530_introduce-to-rest.html>
* [ 170321 ] 跟着 Github 学习 Restful HTTP API 设计 <https://www.jianshu.com/p/dee7f4b935c7>
* [ 190221 ] RESTful Tutorial <https://www.tutorialspoint.com/restful/index.htm>
* [ 190221 ] 解密SuperMap iDesktop自动化测试技术 <https://mp.weixin.qq.com/s/GW8hORJBBQu8KauvyLxZxQ>





## 190128-190215

> 新品


JavaScript Performance Monitor http://mrdoob.github.io/stats.js/
* [ 190215 ] `x-spreadsheet` - A web-based JavaScript（canvas） spreadsheet <https://github.com/myliang/x-spreadsheet>
* [ 190215 ] ApexCharts - Interative `SVG Charts` <https://apexcharts.com>
* [ 190214 ] `Uppy` - File Uploader上传组件 <https://uppy.io/> 一个文件上传组件，比较有意思的是它用到了一个`open tus standard`来支持断点续传文件。这个是它的协议：<https://tus.io/protocols/resumable-upload.html> [ from 孙永录 ] 

> 资讯
* [ 190206 ] New features in `Webpack 5` <https://blog.logrocket.com/new-features-in-webpack-5-2559755adf5e>
* [ 190207 ] V8 release v7.3 <https://v8.dev/blog/v8-release-73> Async stack traces. Faster await. Faster Wasm startup. V8 v7.3 comes with several new JavaScript language features: Object.fromEntries; String.prototype.matchAll; Atomics.notify

        const object = { x: 42, y: 50 };
        const entries = Object.entries(object);
        // → [['x', 42], ['y', 50]]

        const result = Object.fromEntries(entries);
        // → { x: 42, y: 50 }

        const string = 'Favorite GitHub repos: tc39/ecma262 v8/v8.dev';
        const regex = /\b(?<owner>[a-z0-9]+)\/(?<repo>[a-z0-9\.]+)\b/g;

        for (const match of string.matchAll(regex)) {
          console.log(`${match[0]} at ${match.index} with '${match.input}'`);
          console.log(`→ owner: ${match.groups.owner}`);
          console.log(`→ repo: ${match.groups.repo}`);
        }

        // Output:
        //
        // tc39/ecma262 at 23 with 'Favorite GitHub repos: tc39/ecma262 v8/v8.dev'
        // → owner: tc39
        // → repo: ecma262
        // v8/v8.dev at 36 with 'Favorite GitHub repos: tc39/ecma262 v8/v8.dev'
        // → owner: v8
        // → repo: v8.dev


> 工具

* [ 190128 ] `neovim` - Vim-fork focused on extensibility and usability <https://github.com/neovim/neovim>
* [ 190128 ] `onivim` - Oni: Modern Modal Editing - powered by Neovim <https://github.com/onivim/oni>
* [ 190215 ] `vscodevim` - Vim for Visual Studio Code <https://github.com/VSCodeVim/Vim>




## 190121-190125

> 工具

* [ 190120 ] RAP2-DELOS <https://github.com/thx/rap2-delos> RAP2是在RAP1基础上重做的新项目，它包含两个组件(对应两个Github Repository)。[ from 大民 ]
    * rap2-delos: 后端数据API服务器，基于Koa + MySQL
    * rap2-dolores: 前端静态资源，基于React
* [ 190117 ] Facebook open-sources Spectrum 1.0.0 for better mobile image production <https://code.fb.com/developer-tools/spectrum/> Facebook开源的用于iOS和Android平台的图片处理工具，内核使用C++实现，底层使用了`MozJpeg`。该工具在保证图片质量的前提下，还能达到很高的压缩率[ from 大民 ]
* [ 190124 ] mozjpeg - Improved JPEG encoder <https://github.com/mozilla/mozjpeg> 增强的jpeg编码器，facebook的spectrum底层使用了该框架[ from 大民 ]
* [ 190125 ] my97


> 开源

* [ 190102 ] Open source year in review - 2018年Facebook开源回顾 <https://code.fb.com/open-source/open-source-2018/>[ from 大民 ]
    * 153个新的开源项目；94000 commits，其中28000 commits来自2700名外部贡献者
    * 健康、充满生机的开源生态，多大103万的followers，2018年新增了25.7w新的followers
    * PyTorch - 深度学习平台，在github上排名增长速度第二
    * Glow - 神经网络硬件加速编译器
    * Detectron - 对象检测模型，一种计算机视觉模型
    * Flipper - iOS和Android平台上的可扩展调试工具
    * ...
* [ 190124 ] 加载时间从`4.6s`降到`0.7s`，谷歌开源`quicklink` <https://mp.weixin.qq.com/s/G-tA5xAgEsbyzswEI-_8Bg> quicklink 旨在成为根据用户viewport中的链接预取内容的简易解决方案，而且保持很小的体积（压缩后小于 1KB）github: <https://github.com/GoogleChromeLabs/quicklink> <iframe src="http://258i.com/gbtn.html?user=GoogleChromeLabs&repo=quicklink&type=star&count=true" frameborder="0" scrolling="0" width="105px" height="20px"></iframe>


> 框架

* `Ducks`: 比较适合大型应用的 redux 实践 <https://github.com/erikras/ducks-modular-redux>   [ from 鹏程 ]
    1. MUST export default a function called `reducer()`
    2. MUST export its action creators as `functions`
    3. MUST have action types in the form `npm-module-or-app/reducer/ACTION_TYPE`
    4. MAY export its action types as `UPPER_SNAKE_CASE`, if an external reducer needs to listen for them, or if it is a published reusable library

    示例代码：

        // widgets.js

        // Actions
        const LOAD   = 'my-app/widgets/LOAD';
        const CREATE = 'my-app/widgets/CREATE';
        const UPDATE = 'my-app/widgets/UPDATE';
        const REMOVE = 'my-app/widgets/REMOVE';

        // Reducer
        export default function reducer(state = {}, action = {}) {
          switch (action.type) {
            // do reducer stuff
            default: return state;
          }
        }

        // Action Creators
        export function loadWidgets() {
          return { type: LOAD };
        }

        export function createWidget(widget) {
          return { type: CREATE, widget };
        }

        export function updateWidget(widget) {
          return { type: UPDATE, widget };
        }

        export function removeWidget(widget) {
          return { type: REMOVE, widget };
        }

        // side effects, only as applicable
        // e.g. thunks, epics, etc
        export function getWidget () {
          return dispatch => get('/widget').then(widget => dispatch(updateWidget(widget)))
        }


> 2D/3D

* [ 190121 ] 3分钟打开Web 3D图形学的大门 <https://juejin.im/post/5c45aafcf265da614d0976cc>：顶点位置、顶点法线、纹理坐标（UV贴图）、加载OBJ模型、执行空间变换（平移、缩放、旋转）、摄像机视角、WebGL管道绘制、默认帧缓冲区、顶点缓冲对象、着色器、顶点着色器、片段着色器[ from 思源 ]
* [ 190122 ] `bubbly-bg` <https://github.com/tipsy/bubbly-bg> Canvas背景特效，在线Demo<https://tipsy.github.io/bubbly-bg/>[ from 大民 ] <iframe src="http://258i.com/gbtn.html?user=tipsy&repo=bubbly-bg&type=star&count=true" frameborder="0" scrolling="0" width="105px" height="20px"></iframe>


> 新视角

* [ 190125 ] Intersection Observer API <https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API> 高性能元素可见性判断，避免传统方法中占用主线程，导致性能不可控，Chrome 51+、Firefox 55+开始全部支持

        function createObserver() {
            var observer;

            var options = {
                root: null,
                rootMargin: "0px",
                threshold: buildThresholdList()
            };

            observer = new IntersectionObserver(handleIntersect, options);
            observer.observe(boxElement);
        }

* [ 190125 ] `window.requestIdleCallback()` - queues a function to be called during a browser's idle periods <https://developer.mozilla.org/en-US/docs/Web/API/Window/requestIdleCallback> Functions are generally called in `first-in-first-out` order; however, callbacks which have a `timeout` specified may be called out-of-order if necessary in order to run them before the timeout elapses
    


> 深度

* [ 190122 ] CORS跨域时，为何会出现一次动作，两次请求？ <https://juejin.im/post/5c46af87e51d4552232feaeb>
        Access-Control-Allow-Origin
        Access-Control-Allow-Credentials
        Access-Control-Expose-Headers
        Access-Control-Max-Age ( 单位s )，可以在指定时间内只是用一次请求
        Access-Control-Request-Method
        Access-Control-Request-Headers





> 会议&资讯

* [ 190120 ] 2019 极客公园创新大会 <http://if.geekpark.net/> GeekPark IF 2019 —— 看世界的改变、聊创新的本质、谈人和企业持续成长的方法论，希望他们会给你带来些「不一样的输入」，让你看到，你心里那个有可能带来改变的：「WHY NOT」。目前没有大会演讲稿下载。[ from 大民 ]
* [ 190123 ] 大变天！刘强东突然宣布..... <https://mp.weixin.qq.com/s/Mi3_ezNgk7LH2r1s2W-cuA> 12月6日，`京东植物工厂`在北京正式落成，刘强东亲自体验！[ from 大民 ]
* [ 190123 ] 北京14个分区规划全公示，核心区控规将编制，全集收藏 <https://3w.huanqiu.com/a/276886/7JH503fv9UQ>[ from 大民 ]


> 观点

* [ 190117 ] Full-Stack Development in the Era of Serverless Computing <https://medium.com/@dabit3/full-stack-development-in-the-era-of-serverless-computing-c1e49bba8580>[ from 大民 ]
    * We are entering an era where the front end is becoming increasingly more important - 我们正进入一个前端变得越来越重要的时代
    * Because of the rise of `SPA`s, more complex data concerns, multiple device targets and increased expectations of user experience, client-side development has gotten more complex over the past decade or so - 由于SPA的增长，更复杂的数据逻辑、跨设备兼容以及不断增长的用户体验预期，用户端开发在过去10多年中变得越来越复杂
    * 计算的演化历程：个人或组织的机房（ On Premises) -> Cloud -> Serverless -> Serviceful Serverless
    * 什么是Serverless？A: 厚重的客户端代码，处理所有的交互逻辑；B: 大量使用各类服务；C：small glue functions
* [ 190120 ] 拼多多给羊毛党发年终奖背后的那些事：<https://mp.weixin.qq.com/s/COviuJrRdnN8i7WpXy7RJA>[ from 君毅 ]
    * 无门槛券和有门槛券，无门槛券几乎等同于现金
    * 拼多多暴露很多技术上的问题，对无门槛券的风控做得不好，漏洞很多：没有核身策略，没有监控等
* [ 190122 ] 一比吓一跳：其实 光速慢的就像蜗牛！ <https://www.toutiao.com/a6649286390997582344/> 30万公里每秒看起来快得不可思议，但宇宙实在是太大了，光速还是太慢太慢[ from 大民 ]

> 技术实践

* [ 190123 ] 使用 Flutter 开发 macOS App <https://mp.weixin.qq.com/s/xTu2WzDCkwXMliEafUyjcw> Flutter 通过跨平台的`Skia`图形库来实现图形渲染，只依赖各个系统的图形绘制相关的 Api，可能是目前为止真正意义上的全平台 UI 框架。借助`Feather`平台，我们可以在 MacOS 和 Windows 上运行我们的 Flutter 应用程序，也就是说您可以编写一个可以在所有主要桌面和移动设备上运行的应用程序。[ from 张瑞 ]







## 190114-190118

> 前端实践

* [ 190117 ] 如何和后端小哥哥导出word图表 <https://mp.weixin.qq.com/s/RgS0sR-OeJ-e3HRK0OaTNw>

> 工具

* [ 190117 ] `mkcert` - A simple zero-config tool to make locally trusted development certificates with any names you'd like. <https://github.com/FiloSottile/mkcert> Google Go team推出，支持在本地建立HTTPS证书


> 深度文章

* [ 190113 ] JavaScript 代码简洁之道 <https://mp.weixin.qq.com/s/5BTs0RXLieat4Drzj9m_gg >





## 190107-190111

* [ 181208 ] 什么样的应届生值得招？ <https://www.zhihu.com/question/29288179/answer/515988561>
* [ 190108 ] 炫酷简历 - 黄轶 <https://ustbhuangyi.github.io/resume/>
* [ 170615 ] 前端生成PDF实践笔记 <http://huangyingying.com/blog/index.php/archives/7.html>
* [ 181231 ] 其实你并不懂 Unicode <https://zhuanlan.zhihu.com/p/53714077>
* [ 190110 ] A simple, lightweight Javascript library for dynamic grid layouts. <https://github.com/e-oj/Magic-Grid> <iframe src="http://258i.com/gbtn.html?user=e-oj&repo=Magic-Grid&type=star&count=true" frameborder="0" scrolling="0" width="105px" height="20px"></iframe>
* [ 180111 ] Chrome DevTools技巧集合 <https://umaar.com/dev-tips/> [from 海亮]
* [ 190110 ] 数据可视化入门教程：<https://www.yuque.com/mo-college/beginner-tutorial> [from 君毅]




## 190102-190104

> 3D

* [ 181217 ] WebGL 纹理详解 <http://taobaofed.org/blog/2018/12/17/webgl-texture/>
* [ 190103 ] OpenGL矩阵变换的数学推导 <https://mp.weixin.qq.com/s/con9UDxZ2tFuAw02uz3BsA>

> CSS

* [ 181211 ] New CSS Logical Properties! <https://medium.com/@elad/new-css-logical-properties-bc6945311ce7>

    margin
        margin-block-start = margin-top
        margin-block-end = margin-bottom
        margin-inline-start = margin-left
        margin-inline-end = margin-right

    padding
        padding-block-start = padding-top
        padding-block-end = padding-bottom
        padding-inline-start = padding-left
        padding-inline-end = padding-right

    border
        border-block-start = border-top
        border-block-end = border-bottom
        border-inline-start = border-left
        border-inline-end = border-right


> 资讯

* [ 191218 ] V8 release v7.2 <https://v8.dev/blog/v8-release-72> Embedded builtins are now supported and enabled by default on the ia32 architecture. Since v7.0 the parsing speed improved by roughly 30% on desktop. V8 v7.2 comes with a faster async/await implementation, enabled by default. V8 v7.2 adds support for public class fields.


> 其他

* [ 190102 ] 2016世界编程大赛一等奖作品演示，震撼演绎宇宙奥妙之费米悖论 <https://www.365yg.com/a6640366920740635150>



