<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <link rel="stylesheet" type="text/css" href="/docs/markdown_res/bootstrap/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="/docs/markdown_res/bootstrap/css/bootstrap-theme.min.css" />
    <link rel="stylesheet" type="text/css" href="/docs/markdown_res/css/github-markdown.css" />
    <link rel="stylesheet" type="text/css" href="/docs/markdown_res/css/nav.css" />
    <link rel="stylesheet" type="text/css" href="/docs/markdown_res/css/page.css" />
    <script type="text/javascript" src="/docs/markdown_res/js/jquery-1.9.1.min.js"></script>
    <style type="text/css">

    </style>

</head>
<body class="markdown-body">
    <div id="nav" class="row">
<a class="text-info pull-right" href="javascript:history.back()">Back</a>
    </div>

<h1> MySlides设计及备忘</h1>
<p>2015-01-15</p>

<blockquote><p> 致力于方便创建H5分享页面的利器</p></blockquote>

<h2> 框架考虑</h2>
<ol><li>类继承机制，使用<code>this._super()</code>调用父类<p>按C++类继承机制，父类构造函数先执行，再执行子类构造函数，析构函数正好相反。框架类继承时也遵行这个机制。</p>
</li>
<li>Slide以及GlobalView自行append至<code>#wrapper</code></li>
<li>接口机制，对必需操作进行验证，比如各类SlidePageView类必须设置<code>viewClass</code>属性，且必须是字符串类型。</li>
<li>两种状态：<code>编辑状态</code>和<code>发布状态</code>，由<code>appRouter.isRelease</code>或者<code>this.gec.isRelease</code>指示。</li>
<li>组件创建状态：<code>setup</code>和<code>非setup</code>，由<code>this.ec.isSetup</code>标示</li>
<li>组件可自行扩展，按照一定的编码规范。加载时可自行注册</li></ol>
<h2> 想法</h2>
<ol><li>支持<code>PC操作</code>，同时支持<code>手机操作</code><p>PC平台更适合上班或工作状态下进行创作，手机操作适合特定情况下，比如没有
PC在手的情况下，或者提供给网名用户使用时，直接在手机上操作，也或者和客户端
结合时。</p>
</li>
<li>支持<code>编辑模式、发布模式、编辑状态持久化</code><p>代码架构需要支持所见即所得的编辑，编辑状态可以保存以便后续打开继续创作，同时
支持方便切换至发布模式，可以迅速发布至服务提供web访问。</p>
<p>是个难点，有解决曙光。</p>
</li>
<li>支持<code>页面模板</code><p>页面模板提供常用类型模板，这些模板提供某些布局、动效、交互功能，可以在模板基础上
进行修改。</p>
<p>修改后的页面可以支持保存成模板。</p>
</li>
<li>支持<code>页面组件模板</code><p>一些常用页面功能组件，或者一些复杂交互功能组件，都可以做成页面组件模板，提供组件
模板系统使用，点选即可迅速创建组件，并且可在组件上进行修改。</p>
<p>组件模板一般需要专业开发人员制作。</p>
</li>
<li>支持<code>页面间动画</code><p>可使用<code>Rocket提供的</code>已有页面间动画</p>
</li>
<li>支持组件通用动画及配置<p>目前可能<code>是个难点</code>，尚需好好考虑</p>
</li></ol>
<h2> TODOs</h2>
<h3> 功能点</h3>
<p><code>已完成：</code></p>
<ul><li>2015-1-16<ol><li><code>控制器树</code>按照config<code>自动创建</code>：2015-1-16</li>
<li><code>发布模式</code>支持</li></ol>
</li>
<li>2015-2-5, 2015-2-6<ol><li>页面属性编辑支持，背景颜色，背景图片支持</li>
<li>左、中、右定位与位置调整不冲突</li>
<li>移图功能，显示希望展示的区域，新增组件，图片绝对定位，支持放大缩小，移动位置</li>
<li>支持图片蒙板功能，蒙板锁定后，可以在蒙板上移动下方图片</li></ol>
</li>
<li>2015-2-7<ol><li>锁定功能</li>
<li>支持三种模式：<code>全编辑模式、部分编辑模式、发布模式</code><ul><li><code>全编辑模式(fullEdit)</code>：所有编辑功能可用，包括锁定和未锁定功能</li>
<li><code>部分编辑模式(partialEdit)</code>：未锁定编辑功能部分可用，锁定功能不可用</li>
<li><code>发布模式(release)</code>：所有编辑功能均不可用</li></ul>
</li></ol>
</li>
<li>2015-2-9~2015-2-10<ol><li>头条图片上传功能</li>
<li>贺卡上传功能</li>
<li>贺卡查看页，有代码优化</li></ol>
</li>
<li>2015-2-11<ol><li>组件旋转功能</li>
<li>图片插入或更改时显示loading，图片旋转</li>
<li>编辑器换行功能，简单过滤</li>
<li>图片上传界面优化</li></ol>
</li>
<li>2015-2-12<ol><li>图片资源预加载、加载页面，需要解析出所有图片资源</li>
<li>图片操作按钮放大操作区域</li>
<li>文本颜色可手写输入</li></ol>
</li></ul>
<p><code>等待完成：</code></p>
<ol><li>高级居中、居左、居右</li>
<li>PartialEdit组件的边框在Release下不显示</li>
<li>Android iconfont 乱码问题 </li>
<li>上传图片功能针对不支持的浏览器屏蔽</li>
<li>分享页</li>
<li>默认可移动，半编辑模式下的图片</li>
<li>EditOnly页在Release预览中不显示</li>
<li>提示可编辑、可上传方式优化，select样式优化</li>
<li>模板选择页</li>
<li>模板开发，3套</li>
<li>tip类型组件，RELEASE模式下不显示</li>
<li>部分编辑模式页，RELEASE模式下不存在</li>
<li>部分编辑模式图片上传功能新样式</li>
<li>其他编辑功能打磨</li>
<li>动画效果，声音效果</li>
<li>上传文件尺寸判断</li>
<li>render功能明确化</li>
<li>页面复制功能</li>
<li>组件复制功能</li>
<li>页面模板支持</li>
<li>EditOnly页在Release预览中不显示</li>
<li>页面组件模板支持</li>
<li>字号、颜色调整支持</li>
<li>图片<code>上传</code>支持，图片<code>URL配置</code>支持</li>
<li><code>组件通用动画</code>支持</li>
<li>操作记录，可Ctrl-Z或Command-Z撤销</li></ol>
<h3> 中间成果</h3>
<ol><li>fulledit<ol><li>http://test.baidu.com:8300/template/myslides/fulledit.html?cardid=15670870227862777334</li>
<li>http://test.baidu.com:8300/template/myslides/fulledit.html?cardid=16220865808377624071</li>
<li>http://test.baidu.com:8300/template/myslides/fulledit.html?cardid=16407306567705951099</li>
<li>http://db-news-fe2.vm.baidu.com:8098/myslides/fulledit.html?cardid=15500251771548795763</li>
<li>rotate: http://test.baidu.com:8300/template/myslides/fulledit.html?cardid=15915253467644422081</li>
<li>http://db-news-fe2.vm.baidu.com:8098/myslides/fulledit.html?cardid=15909220339882143900</li></ol>
</li>
<li>partialedit<ol><li>http://test.baidu.com:8300/template/myslides/partialedit.html?cardid=12813716557934814515 </li>
<li>http://test.baidu.com:8300/template/myslides/partialedit.html?cardid=15812910710529346940</li></ol>
</li>
<li>release<ol><li>http://test.baidu.com:8300/template/myslides/index.html?cardid=16475049231430235346&x=0&y=0&w=400&h=300#index</li>
<li>http://test.baidu.com:8300/template/myslides/index.html?cardid=16112483962221526007&x=0&y=0&w=400&h=300#index</li></ol>
</li></ol>
<h3> 模板</h3>
<p><code>剪纸</code></p>
<ul><li>fulledit <ol><li>http://db-news-fe2.vm.baidu.com:8098/myslides/fulledit.html?cardid=15808351302173388958</li>
<li>fulledit.html?cardid=15969864668415132937</li>
<li>fulledit.html?cardid=12518138506395452933</li>
<li>fulledit.html?cardid=16090959196801807245</li>
<li>fulledit.html?cardid=16545598892618196777</li>
<li>fulledit.html?cardid=16086193617104005187</li>
<li>fulledit.html?cardid=15907832086260844938</li>
<li>fulledit.html?cardid=15646984355820983989</li></ol>
</li>
<li>partialedit<ol><li>http://db-news-fe2.vm.baidu.com:8098/myslides/partialedit.html?cardid=15183824389706532537</li>
<li>partialedit.html?cardid=15761066413872044526</li></ol>
</li>
<li>release<ol><li>http://db-news-fe2.vm.baidu.com:8098/myslides/index.html?cardid=15937074323963550011 </li>
<li>http://db-news-fe2.vm.baidu.com:8098/myslides/index.html?cardid=16922630393391216429</li></ol>
</li></ul>
<h3> online</h3>
<p><code>剪纸：</code></p>
<ul><li>fulledit<ol><li>fulledit.html?cardid=16317105215022708556</li>
<li>fulledit.html?cardid=15814191602825558220</li></ol>
</li>
<li>partialedit<ol><li>partialedit.html?cardid=15933293146173194318</li>
<li>partialedit.html?cardid=15455819136497256354</li></ol>
</li>
<li>release<ol><li>index.html?cardid=16514352120760868230&cut_x=0&cut_y=0&cut_w=396&cut_h=247.5</li></ol>
</li></ul>
<p><code>国民老公：</code></p>
<ul><li>fulledit<ol><li>不换脸：fulledit.html?cardid=15064361781275376346</li>
<li>fulledit.html?cardid=15189778932186000177</li>
<li>fulledit.html?cardid=15962899979248120278</li></ol>
</li>
<li>partialedit<ol><li>不换脸：partialedit.html?cardid=15601680117246657844</li>
<li>partialedit.html?cardid=9595144653497850548</li>
<li>partialedit.html?cardid=16319757803944884729</li></ol>
</li></ul>
<p><code>媚娘：</code></p>
<ul><li>fulledit<ol><li>fulledit.html?cardid=12346020097067584540</li>
<li>fulledit.html?cardid=16233522067679736597</li>
<li>fulledit.html?cardid=11823020078272446075</li></ol>
</li>
<li>partialedit<ol><li>partialedit.html?cardid=15283453732311694968</li>
<li>partialedit.html?cardid=12375877275277060959</li>
<li>partialedit.html?cardid=12297577397147683170</li></ol>
</li>
<li>release<ol><li>index.html?cardid=15636667956021638939</li></ol>
</li></ul>
<p><code>模板选择页：</code></p>
<ol><li>http://m.baidu.com/static/news/postcard/select.html</li></ol>
<p><code>创意：</code></p>
<p>Robin: </p>
<ol><li>http://m.baidu.com/news?cardid=16135789876452836262&cut_x=12.121212121212121&cut_y=0&cut_w=600&cut_h=375</li>
<li>http://m.baidu.com/news?cardid=16120905637185107517&cut_x=21.538461538461537&cut_y=6.153846153846153&cut_w=600&cut_h=375</li></ol>
<h3> 开发链接</h3>
<ol><li>http://test.baidu.com:8300/template/myslides/fulledit.html?cardid=16204715932521676863&cut_x=0&cut_y=0&cut_w=640&cut_h=400#index</li></ol>
<h3> Unit Tests </h3>


<h2> 业界调研</h2>
<ol><li>http://strut.io/editor<p>webPPT制作，H5技术搭建，不过遗憾的没有模版系统</p>
</li>
<li>http://html5maker.com/app?token=aa9cf4fc37266521135e1b93671b841c26efb15a1d8f74a9 <p>html5maker，Flash版本</p>
</li>
<li><code>H5Slides</code>，H5版本，支持layout，页面切换动画配置。但给出的Demo文本编辑功能较弱，甚至背景色也不能修改。<p>尚不知扩展特性如何。</p>
<p>试玩地址：http://jinjiang.github.io/h5slides/demo/index.html</p>
</li>
<li>h5小游戏编辑器（h5.cocoachina.com)，基于cocos2d-js制作的H5小游戏，将素材、音乐、代码等<p>资源配置抽取出来，可以在线修改，同时预览效果。</p>
<p><a href="http://h5.cocoachina.com/template/">Game Creator Online</a></p>
</li>
<li>积木网，H5微杂志是一种新的微信应用，形式生动，富有趣味性，更容易在朋友圈中传播。<p>这种场景应用有多种用途，例如杂志、贺卡、会议邀请函、产品展示、年度报告、公司宣传。
主要是看上它在页面上放了业内流行的微信H5应用。</p>
</li>
<li>http://demo.qunee.com/editor/<p>基于canvas的图表制作工具。</p>
</li></ol>
<h2> BUGs</h2>
<ol><li>手机上编辑功能不流畅。iOS无法编辑，Android点击不灵敏</li>
<li>Android新闻客户端无法传图和拍照，特别是4.4，4.4.1，4.4.2</li></ol>

</body>
</html>
<script type="text/javascript" src="/docs/markdown_res/js/footer.js"></script>
<script type="text/javascript" src="/docs/markdown_res/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/docs/markdown_res/js/scrollspy.js"></script>
