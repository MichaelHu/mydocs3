<!DOCTYPE html>
<html>
<head>
    <title></title>
    <link rel="stylesheet" type="text/css" href="/docs/markdown_res/bootstrap/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="/docs/markdown_res/bootstrap/css/bootstrap-theme.min.css" />
    <link rel="stylesheet" type="text/css" href="/docs/markdown_res/css/markdown-7.css" />
    <link rel="stylesheet" type="text/css" href="/docs/markdown_res/css/nav.css" />
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <style type="text/css">
        body {padding: 15px;}
        img {max-width: 100%; border: 1px solid #eee; }
        pre, code {color: #048ebd; }
        li>p {display: block;}
        p>code, li>code {padding:0; font-size: 13px; color: red;}
    </style>
    <script type="text/javascript" src="/docs/markdown_res/js/jquery-1.9.1.js"></script>
</head>
<body>
    <div id="nav">
<a href="javascript:history.back()">返回 [ or Backspace ]</a>
    </div>

<h1> File Upload</h1>
<blockquote><p> 使用<code>&lt;input type="file"></code></p></blockquote><h2> 兼容性</h2>
<ol><li><code>iOS6</code>才开始支持，但只支持视频和图片上传</li>
<li>Android支持得比较早</li></ol>
<h2> 注意点</h2>
<ol><li>Android下出现点击不弹出文件选择框，可能是事件没有直接注册在input上，而是注册在label上</li>
<li>iOS6开始，还支持<code>multiple</code>属性，支持上传文件多选。Android到<code>Version 37仍然不支持</code></li>
<li>设置只上传类型：<pre><code>&lt;input type="file" accept="video/*"> 
&lt;input type="file" accept="image/*">
&lt;input type="file" name="pic" id="pic" accept="image/gif, image/jpeg" />  </code></pre>
</li></ol>
<h2> DOM API</h2>
<blockquote><p> 涉及<code>FileUpload对象</code></p></blockquote><h3> 属性列表</h3>
<ol><li>accept: MIME类型，多个可用逗号分隔</li>
<li>accesskey</li>
<li>alt：不支持<code>&lt;input type="file"></code>时显示的替代文字</li>
<li>defaultValue</li>
<li>disabled</li>
<li>form</li>
<li>id</li>
<li>name</li>
<li>tabIndex</li>
<li>type</li>
<li>value: 用户输入后的文件名</li></ol>
<h3> form之enctype</h3>
<p>上传文件时，需要显式设置form的<code>enctype</code>属性值，如下：</p>
<pre><code>&lt;form action="POST" target="__upload_iframe__"
    enctype="multipart/form-data">
    &lt;input type="file" name="pic">
&lt;/form> </code></pre>
<p>综合来说：</p>
<ol><li>按<code>文本</code>传输，默认为<code>application/x-www-form-urlencoded</code>，还有<code>text/plain</code>。<p>两者区别为，前者将编码所有字符，后者仅将空格转换成<code>+</code>，而不编码特殊字符。</p>
</li>
<li>按文件传输，即input的type为<code>file</code>的时候，必须使用<code>multipart/form-data</code></li></ol>
<p>form的DOM对象需要获取或设置enctype，可以使用</p>
<pre><code>form.enctype </code></pre>
<p>或者</p>
<pre><code>form.encoding    </code></pre>

    <script type="text/javascript" src="/docs/markdown_res/bootstrap/js/bootstrap.js"></script>
</body>
</html>
<script type="text/javascript" src="/docs/markdown_res/js/footer.js"></script>
<script type="text/javascript" src="/docs/markdown_res/js/scrollspy.js"></script>
<script type="text/javascript" src="/docs/markdown_res/bootstrap/js/bootstrap.min.js"></script>
