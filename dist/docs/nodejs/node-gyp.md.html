<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <link rel="stylesheet" type="text/css" href="/docs/markdown_res/bootstrap/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="/docs/markdown_res/bootstrap/css/bootstrap-theme.min.css" />
    <link rel="stylesheet" type="text/css" href="/docs/markdown_res/css/markdown-7.css" />
    <link rel="stylesheet" type="text/css" href="/docs/markdown_res/css/nav.css" />
    <link rel="stylesheet" type="text/css" href="/docs/markdown_res/css/page.css" />
    <script type="text/javascript" src="/docs/markdown_res/js/jquery-1.9.1.js"></script>
</head>
<body>
    <div id="nav" class="row">
<a class="text-info pull-right" href="javascript:history.back()">Back</a>
    </div>

<h1> node-gyp</h1>
<blockquote><p> Node.js <code>native addon</code> build tool</p></blockquote><p>Generates Your Projects</p>
<p>nodejs编写的跨平台命令行工具。</p>
<p>nodejs的C++模块的编译工具，node的0.8版本之前，用的是<code>node-waf</code>编译，该版本之后，就进入使用node-gyp编译工具。</p>
<p><code>GITHUB</code>: <a href="https://github.com/TooTallNate/node-gyp/">node-gyp</a></p>
<p>其配置文件名为<code>binding.gyp</code></p>
<h2> 安装方式</h2>
<pre><code>$ npm install -g node-gyp  </code></pre>
<h2> 举例</h2>
<h3> C++模块，binding.cc</h3>
<pre><code>#include &lt;node.h>
#include &lt;v8.h>

using namespace v8;

Handle&lt;Value> Method(const Arguments&amp; args) {
  HandleScope scope;
  return scope.Close(String::New("world"));
}

void init(Handle&lt;Object> target) {
  NODE_SET_METHOD(target, "hello", Method);
}

NODE_MODULE(binding, init); </code></pre>
<h3> binding.gyp文件</h3>
<pre><code>{
  'targets': [
    {
      'target_name': 'binding',
      'sources': [ 'binding.cc' ]
    }
  ]
}   </code></pre>
<h3> js调用代码</h3>
<pre><code>var assert = require('assert');
var binding = require('./build/Release/binding');
assert.equal('world', binding.hello());
console.log('binding.hello() =', binding.hello());  </code></pre>

    <script type="text/javascript" src="/docs/markdown_res/bootstrap/js/bootstrap.js"></script>
</body>
</html>
<script type="text/javascript" src="/docs/markdown_res/js/footer.js"></script>
<script type="text/javascript" src="/docs/markdown_res/js/scrollspy.js"></script>
<script type="text/javascript" src="/docs/markdown_res/bootstrap/js/bootstrap.min.js"></script>
