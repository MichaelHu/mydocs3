<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <link rel="stylesheet" type="text/css" href="/docs/markdown_res/bootstrap/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="/docs/markdown_res/bootstrap/css/bootstrap-theme.min.css" />
    <link rel="stylesheet" type="text/css" href="/docs/markdown_res/css/markdown-7.css" />
    <link rel="stylesheet" type="text/css" href="/docs/markdown_res/css/nav.css" />
    <link rel="stylesheet" type="text/css" href="/docs/markdown_res/css/page.css" />
    <script type="text/javascript" src="/docs/markdown_res/js/jquery-1.9.1.js"></script>
</head>
<body>
    <div id="nav" class="row">
<a class="text-info pull-right" href="javascript:history.back()">Back</a>
    </div>

<h1> httpd-conf</h1>


<h2> 2.2到2.4升级备忘</h2>
<blockquote><p> 2.2到2.4的升级，变化不少，需要查看changelog来进行修改</p></blockquote>
<a href="http://httpd.apache.org/docs/2.4/en/upgrading.html">Upgrading to 2.4 from 2.2</a>
<ol><li>User需要mod_unixd</li>
<li>DefaultType警告，先简单改成<code>DefaultType none</code></li>
<li>出现<code>Authz_core:error Client Denied by Server Configuration</code>错误<p>，需要将：</p>
<pre><code>&lt;Directory /path/to/directory>
    Options FollowSymlinks
    AllowOverride none
    Order allow, deny
    Allow from all
&lt;/Directory> </code></pre>
<p>改成：</p>
<pre><code>&lt;Directory /path/to/directory>
    Options FollowSymlinks
    AllowOverride none
    Require all granted
&lt;/Directory> </code></pre>
<p>还有</p>
<pre><code>Require all denied </code></pre>
<p>等，具体可参考： </p>
<ol><li>https://mikegriffin.ie/blog/20140130-authz-core-error-client-denied-by-server-configuration/</li>
<li>http://www.hksilicon.com/kb/cn/articles/409729/Apache-2224Conf</li></ol>
</li></ol>
<p>其他更多的参考changelog</p>



<h2> 配置HTTP代理</h2>
<blockquote><p> 配置proxy，可以实现请求包窥探，特别是对手机的数据请求进行窥探</p></blockquote><p>以下是httpd.conf文件中的相关配置代码：</p>
<pre><code>LoadModule proxy_module libexec/apache2/mod_proxy.so
LoadModule proxy_http_module libexec/apache2/mod_proxy_http.so

&lt;IfModule proxy_http_module>
ProxyRequests On
&lt;/IfModule> </code></pre>
<p>当然还有以下代理模块可以选择：</p>
<pre><code>LoadModule proxy_ajp_module libexec/apache2/mod_proxy_ajp.so
LoadModule proxy_balancer_module libexec/apache2/mod_proxy_balancer.so
LoadModule proxy_connect_module libexec/apache2/mod_proxy_connect.so
LoadModule proxy_express_module libexec/apache2/mod_proxy_express.so
LoadModule proxy_fcgi_module libexec/apache2/mod_proxy_fcgi.so
LoadModule proxy_fdpass_module libexec/apache2/mod_proxy_fdpass.so
LoadModule proxy_ftp_module libexec/apache2/mod_proxy_ftp.so
LoadModule proxy_html_module libexec/apache2/mod_proxy_html.so    </code></pre>

    <script type="text/javascript" src="/docs/markdown_res/bootstrap/js/bootstrap.js"></script>
</body>
</html>
<script type="text/javascript" src="/docs/markdown_res/js/footer.js"></script>
<script type="text/javascript" src="/docs/markdown_res/js/scrollspy.js"></script>
<script type="text/javascript" src="/docs/markdown_res/bootstrap/js/bootstrap.min.js"></script>
